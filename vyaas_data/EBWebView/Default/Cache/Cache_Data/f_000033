"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[346],{6405:(e,t,r)=>{r.d(t,{$:()=>ts,B:()=>tS,E:()=>eq,N:()=>e7,R:()=>tx,S:()=>eK,T:()=>e0,U:()=>eN,V:()=>tr,W:()=>eU,X:()=>eF,Y:()=>eZ,Z:()=>e6,_:()=>tf,a1:()=>eA,a2:()=>tn,a3:()=>ta,a4:()=>to,a5:()=>eD,a6:()=>eY,a7:()=>eX,a8:()=>eR,aa:()=>tb,ab:()=>e2,ae:()=>tm,ah:()=>o,ai:()=>a,e:()=>ez,f:()=>tk,i:()=>tg,l:()=>eM,p:()=>e_,t:()=>eJ,u:()=>tT,v:()=>eQ,w:()=>tC,x:()=>eW,y:()=>e1});var n=r(4776),i=r(4364),o="u">typeof globalThis?globalThis:"u">typeof window?window:"u">typeof global?global:"u">typeof self?self:{};function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c,u={exports:{}},l=u.exports;let s=a(function(){var e;return c||(c=1,e=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],i={},o=null;function a(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch{return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function u(){for(var r=this.getLevel(),i=0;i<n.length;i++){var o=n[i];this[o]=i<r?e:this.methodFactory(o,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function s(n,i,o){var u;return"debug"===(u=n)&&(u="log"),typeof console!==t&&("trace"===u&&r?c:void 0!==console[u]?a(console,u):void 0!==console.log?a(console,"log"):e)||l.apply(this,arguments)}function f(e,r){var a,c,l,f=this,d="loglevel";function p(){var e;if(!(typeof window===t||!d)){try{e=window.localStorage[d]}catch{}if(typeof e===t)try{var r=window.document.cookie,n=encodeURIComponent(d),i=r.indexOf(n+"=");-1!==i&&(e=/^([^;]+)/.exec(r.slice(i+n.length+1))[1])}catch{}return void 0===f.levels[e]&&(e=void 0),e}}function h(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=r||s,f.getLevel=function(){return l??c??a},f.setLevel=function(e,r){return l=h(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(!(typeof window===t||!d)){try{window.localStorage[d]=r;return}catch{}try{window.document.cookie=encodeURIComponent(d)+"="+r+";"}catch{}}}(l),u.call(f)},f.setDefaultLevel=function(e){c=h(e),p()||f.setLevel(e,!1)},f.resetLevel=function(){l=null,function(){if(!(typeof window===t||!d)){try{window.localStorage.removeItem(d)}catch{}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),u.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(o!==f&&(a=h(o.getLevel())),u.call(f),o===f)for(var e in i)i[e].rebuild()},a=h(o?o.getLevel():"WARN");var v=p();null!=v&&(l=h(v)),u.call(f)}(o=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new f(e,o.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return o.noConflict=function(){return typeof window!==t&&window.log===o&&(window.log=d),o},o.getLoggers=function(){return i},o.default=o,o},u.exports?u.exports=e():l.log=e()),u.exports}());var f=function(e,t){return(f=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function d(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function p(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(u){var l=[c,u];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,l[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!i||l[1]>i[0]&&l[1]<i[3])){o.label=l[1];break}if(6===l[0]&&o.label<i[1]){o.label=i[1],i=l;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(l);break}i[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{r=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}}function h(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function b(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function m(e){return"function"==typeof e}function g(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var w=g(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(e,t){return t+1+") "+e.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function S(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var x=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=h(o),c=a.next();!c.done;c=a.next())c.value.remove(this)}catch(t){e={error:t}}finally{try{c&&!c.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if(m(u))try{u()}catch(e){i=e instanceof w?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var s=h(l),f=s.next();!f.done;f=s.next()){var d=f.value;try{T(d)}catch(e){i=i??[],e instanceof w?i=b(b([],v(i)),v(e.errors)):i.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}if(i)throw new w(i)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)T(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!=(r=this._finalizers)?r:[]).push(e)}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&S(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&S(r,e),e instanceof t&&e._removeParent(this)},(e=new t).closed=!0,t.EMPTY=e,t}(),k=x.EMPTY;function C(e){return e instanceof x||e&&"closed"in e&&m(e.remove)&&m(e.add)&&m(e.unsubscribe)}function T(e){m(e)?e():e.unsubscribe()}var I={Promise:void 0},E={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,b([e,t],v(r)))}};function P(e){E.setTimeout(function(){throw e})}function A(){}var _=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,C(t)&&t.add(r)):r.destination=M,r}return d(t,e),t.create=function(e,t,r){return new L(e,t,r)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(x),O=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){P(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){P(e)}else P(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){P(e)}},e}(),L=function(e){function t(t,r,n){var i=e.call(this)||this;return i.destination=new O(m(t)||!t?{next:t??void 0,error:r??void 0,complete:n??void 0}:t),i}return d(t,e),t}(_),M={closed:!0,next:A,error:function(e){throw e},complete:A},Y="function"==typeof Symbol&&Symbol.observable||"@@observable";function D(e){return e}var R=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i,o=this,a=!function(e){return e&&e instanceof _||e&&m(e.next)&&m(e.error)&&m(e.complete)&&C(e)}(e)?new L(e,t,r):e;return n=o.operator,i=o.source,a.add(n?n.call(a,i):i?o._subscribe(a):o._trySubscribe(a)),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=N(t))(function(t,n){var i=new L({next:function(t){try{e(t)}catch(e){n(e),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)})},e.prototype._subscribe=function(e){var t;return null==(t=this.source)?void 0:t.subscribe(e)},e.prototype[Y]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?D:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=N(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function N(e){var t;return null!=(t=e??I.Promise)?t:Promise}function U(e){return function(t){if(m(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}function j(e,t,r,n,i){return new Z(e,t,r,n,i)}var Z=function(e){function t(t,r,n,i,o,a){var c=e.call(this,t)||this;return c.onFinalize=o,c.shouldUnsubscribe=a,c._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,c._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,c}return d(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null==(t=this.onFinalize)||t.call(this)}},t}(_),F=g(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),$=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return d(t,e),t.prototype.lift=function(e){var t=new H(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new F},t.prototype.next=function(e){var t,r;if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));try{for(var n=h(this.currentObservers),i=n.next();!i.done;i=n.next())i.value.next(e)}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}},t.prototype.error=function(e){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;for(var t=this.observers;t.length;)t.shift().error(e)}},t.prototype.complete=function(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;for(var e=this.observers;e.length;)e.shift().complete()}},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null==(e=this.observers)?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?k:(this.currentObservers=null,i.push(e),new x(function(){t.currentObservers=null,S(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new R;return e.source=this,e},t.create=function(e,t){return new H(e,t)},t}(R),H=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return d(t,e),t.prototype.next=function(e){var t,r;null==(r=null==(t=this.destination)?void 0:t.next)||r.call(t,e)},t.prototype.error=function(e){var t,r;null==(r=null==(t=this.destination)?void 0:t.error)||r.call(t,e)},t.prototype.complete=function(){var e,t;null==(t=null==(e=this.destination)?void 0:e.complete)||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!=(r=null==(t=this.source)?void 0:t.subscribe(e))?r:k},t}($),z=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return d(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}($),W={now:function(){return Date.now()}},V=function(e){function t(t,r){return e.call(this)||this}return d(t,e),t.prototype.schedule=function(e,t){return this},t}(x),B={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,b([e,t],v(r)))},clearInterval:function(e){return clearInterval(e)}},J=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return d(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!=(r=this.id)?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),B.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&B.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,S(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(V),G=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=W.now,e}();function q(e){var t;return(t=e[e.length-1])&&m(t.schedule)?e.pop():void 0}new(function(e){function t(t,r){void 0===r&&(r=G.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return d(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active)return void r.push(e);this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(G))(J);var Q=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function X(e){return m(null==e?void 0:e.then)}function K(e){return Symbol.asyncIterator&&m(null==e?void 0:e[Symbol.asyncIterator])}function ee(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var et="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function er(e){return m(null==e?void 0:e[et])}function en(e){return function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,l)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||c(e,t)})},t&&(n[e]=t(n[e])))}function c(e,t){try{var r;(r=i[e](t)).value instanceof y?Promise.resolve(r.value.v).then(u,l):s(o[0][2],r)}catch(e){s(o[0][3],e)}}function u(e){c("next",e)}function l(e){c("throw",e)}function s(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function(){var t,r,n;return p(this,function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,y(t.read())];case 3:return n=(r=i.sent()).value,r.done?[4,y(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,y(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function ei(e){return m(null==e?void 0:e.getReader)}function eo(e){if(e instanceof R)return e;if(null!=e){var t,r,n,i;if(m(e[Y])){return t=e,new R(function(e){var r=t[Y]();if(m(r.subscribe))return r.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")})}if(Q(e)){return r=e,new R(function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()})}if(X(e)){return n=e,new R(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,P)})}if(K(e))return ea(e);if(er(e)){return i=e,new R(function(e){var t,r;try{for(var n=h(i),o=n.next();!o.done;o=n.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}e.complete()})}if(ei(e))return ea(en(e))}throw ee(e)}function ea(e){return new R(function(t){(function(e,t){var r,n,i,o,a,c,u,l;return a=this,c=void 0,u=void 0,l=function(){var a;return p(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){var o,a,c;o=n,a=i,c=(t=e[r](t)).done,Promise.resolve(t.value).then(function(e){o({value:e,done:c})},a)})}}}(e),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return i={error:c.sent()},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})},new(u||(u=Promise))(function(e,t){function r(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof u?i:new u(function(e){e(i)})).then(r,n)}i((l=l.apply(a,c||[])).next())})})(e,t).catch(function(e){return t.error(e)})})}function ec(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function eu(e,t){return void 0===t&&(t=0),U(function(r,n){r.subscribe(j(n,function(r){return ec(n,e,function(){return n.next(r)},t)},function(){return ec(n,e,function(){return n.complete()},t)},function(r){return ec(n,e,function(){return n.error(r)},t)}))})}function el(e,t){return void 0===t&&(t=0),U(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}function es(e,t){if(!e)throw Error("Iterable cannot be null");return new R(function(r){ec(r,t,function(){var n=e[Symbol.asyncIterator]();ec(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}function ef(e,t){return t?function(e,t){if(null!=e){if(m(e[Y]))return eo(e).pipe(el(t),eu(t));if(Q(e))return new R(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})});if(X(e))return eo(e).pipe(el(t),eu(t));if(K(e))return es(e,t);if(er(e))return new R(function(r){var n;return ec(r,t,function(){n=e[et](),ec(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return m(null==n?void 0:n.return)&&n.return()}});if(ei(e))return es(en(e),t)}throw ee(e)}(e,t):eo(e)}function ed(e,t){return U(function(r,n){var i=0;r.subscribe(j(n,function(r){n.next(e.call(t,r,i++))}))})}function ep(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(function e(t,r,n){return void 0===n&&(n=1/0),m(r)?e(function(e,n){return ed(function(t,i){return r(e,t,n,i)})(eo(t(e,n)))},n):("number"==typeof r&&(n=r),U(function(e,r){var i,o,a,c,u,l,s;return i=n,o=[],a=0,c=0,u=!1,l=function(){!u||o.length||a||r.complete()},s=function(e){a++;var n=!1;eo(t(e,c++)).subscribe(j(r,function(e){r.next(e)},function(){n=!0},void 0,function(){if(n)try{for(a--;o.length&&a<i;)!function(){var e=o.shift();s(e)}();l()}catch(e){r.error(e)}}))},e.subscribe(j(r,function(e){return a<i?s(e):o.push(e)},function(){u=!0,l()})),function(){}}))})(D,1)(ef(e,q(e)))}function eh(e,t){return U(function(r,n){var i=0;r.subscribe(j(n,function(r){return e.call(t,r,i++)&&n.next(r)}))})}function ev(e,t){var r;return U((r=arguments.length>=2,function(n,i){var o=r,a=t,c=0;n.subscribe(j(i,function(t){var r=c++;a=o?e(a,t,r):(o=!0,t),i.next(a)},void 0))}))}function eb(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0===t)return void e();if(!1!==t){var i=new L({next:function(){i.unsubscribe(),e()}});return eo(t.apply(void 0,b([],v(r)))).subscribe(i)}}function ey(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=q(e);return U(function(t,n){(r?ep(e,t,r):ep(e,t)).subscribe(n)})}function em(e){return U(function(t,r){eo(e).subscribe(j(r,function(){return r.complete()},A)),r.closed||t.subscribe(r)})}g(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});var eg=Object.defineProperty,ew=Object.defineProperties,eS=Object.getOwnPropertyDescriptors,ex=Object.getOwnPropertySymbols,ek=Object.prototype.hasOwnProperty,eC=Object.prototype.propertyIsEnumerable,eT=(e,t,r)=>t in e?eg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eI=(e,t)=>{for(var r in t||(t={}))ek.call(t,r)&&eT(e,r,t[r]);if(ex)for(var r of ex(t))eC.call(t,r)&&eT(e,r,t[r]);return e},eE=(e,t)=>ew(e,eS(t)),eP=(e,t,r)=>new Promise((n,i)=>{var o=e=>{try{c(r.next(e))}catch(e){i(e)}},a=e=>{try{c(r.throw(e))}catch(e){i(e)}},c=e=>e.done?n(e.value):Promise.resolve(e.value).then(o,a);c((r=r.apply(e,t)).next())});function eA(e){var t,r,n;return!(typeof e>"u")&&(!!(t=e)&&t.hasOwnProperty("participant")&&t.hasOwnProperty("source")&&t.hasOwnProperty("track")&&"u">typeof(null==(r=t.publication)?void 0:r.track)||!!(n=e)&&n.hasOwnProperty("participant")&&n.hasOwnProperty("source")&&n.hasOwnProperty("publication")&&"u">typeof n.publication)}function e_(e){if("string"==typeof e||"number"==typeof e)return`${e}`;if(e&&e.hasOwnProperty("participant")&&e.hasOwnProperty("source")&&typeof e.publication>"u")return`${e.participant.identity}_${e.source}_placeholder`;if(eA(e))return`${e.participant.identity}_${e.publication.source}_${e.publication.trackSid}`;throw Error(`Can't generate a id for the given track reference: ${e}`)}var eO=[n.u9.ConnectionStateChanged,n.u9.RoomMetadataChanged,n.u9.ActiveSpeakersChanged,n.u9.ConnectionQualityChanged,n.u9.ParticipantConnected,n.u9.ParticipantDisconnected,n.u9.ParticipantPermissionsChanged,n.u9.ParticipantMetadataChanged,n.u9.ParticipantNameChanged,n.u9.ParticipantAttributesChanged,n.u9.TrackMuted,n.u9.TrackUnmuted,n.u9.TrackPublished,n.u9.TrackUnpublished,n.u9.TrackStreamStateChanged,n.u9.TrackSubscriptionFailed,n.u9.TrackSubscriptionPermissionChanged,n.u9.TrackSubscriptionStatusChanged,n.u9.LocalTrackPublished,n.u9.LocalTrackUnpublished],eL=[n.YI.TrackPublished,n.YI.TrackUnpublished,n.YI.TrackMuted,n.YI.TrackUnmuted,n.YI.TrackStreamStateChanged,n.YI.TrackSubscribed,n.YI.TrackUnsubscribed,n.YI.TrackSubscriptionPermissionChanged,n.YI.TrackSubscriptionFailed,n.YI.LocalTrackPublished,n.YI.LocalTrackUnpublished],eM=(n.YI.ConnectionQualityChanged,n.YI.IsSpeakingChanged,n.YI.ParticipantMetadataChanged,n.YI.ParticipantPermissionsChanged,n.YI.TrackMuted,n.YI.TrackUnmuted,n.YI.TrackPublished,n.YI.TrackUnpublished,n.YI.TrackStreamStateChanged,n.YI.TrackSubscriptionFailed,n.YI.TrackSubscriptionPermissionChanged,n.YI.TrackSubscriptionStatusChanged,n.YI.LocalTrackPublished,n.YI.LocalTrackUnpublished,s.getLogger("lk-components-js"));function eY(e,t){var r;return eE(eI({},e),{receivedAtMediaTimestamp:null!=(r=t.rtpTimestamp)?r:0,receivedAt:t.timestamp})}function eD(e,t,r){return[...e,...t].reduceRight((e,t)=>(e.find(e=>e.id===t.id)||e.unshift(t),e),[]).slice(0-r)}eM.setDefaultLevel("WARN");var eR=(e=>(e.AgentState="lk.agent.state",e.PublishOnBehalf="lk.publish_on_behalf",e.TranscriptionFinal="lk.transcription_final",e.TranscriptionSegmentId="lk.segment_id",e.TranscribedTrackId="lk.transcribed_track_id",e))(eR||{});function eN(e){return"object"==typeof e}function eU(e){return Array.isArray(e)&&e.filter(eN).length>0}function ej(e){return`lk-${e}`}function eZ(e){let t=eF(e),r=eJ(e.participant).pipe(ed(()=>eF(e)),ey(t));return{className:ej(e.source===n.CC.Source.Camera||e.source===n.CC.Source.ScreenShare?"participant-media-video":"participant-media-audio"),trackObserver:r}}function eF(e){if(eA(e))return e.publication;{let{source:t,name:r,participant:n}=e;if(t&&r)return n.getTrackPublications().find(e=>e.source===t&&e.trackName===r);if(r)return n.getTrackPublicationByName(r);if(t)return n.getTrackPublication(t);throw Error("At least one of source and name needs to be defined")}}function e$(e,...t){return new R(r=>{let n=()=>{r.next(e)};return t.forEach(t=>{e.on(t,n)}),()=>{t.forEach(t=>{e.off(t,n)})}}).pipe(ey(e))}function eH(e,t){return new R(r=>{let n=(...e)=>{r.next(e)};return e.on(t,n),()=>{e.off(t,n)}})}function ez(e){return eH(e,n.u9.ConnectionStateChanged).pipe(ed(([e])=>e),ey(e.state))}function eW(e,t,r=!0){return ep(new R(i=>{n.Wv.getLocalDevices(e,r).then(e=>{i.next(e),i.complete()}).catch(e=>{null==t||t(e),i.next([]),i.complete()})}),new R(i=>{var o;let a=()=>eP(this,null,function*(){try{let t=yield n.Wv.getLocalDevices(e,r);i.next(t)}catch(e){null==t||t(e)}});if("u">typeof window){if(!window.isSecureContext)throw Error("Accessing media devices is available only in secure contexts (HTTPS and localhost), in some or all supporting browsers. See: https://developer.mozilla.org/en-US/docs/Web/API/Navigator/mediaDevices");null==(o=null==navigator?void 0:navigator.mediaDevices)||o.addEventListener("devicechange",a)}return()=>{var e;null==(e=null==navigator?void 0:navigator.mediaDevices)||e.removeEventListener("devicechange",a)}}))}function eV(e){return e$(e,n.u9.AudioPlaybackStatusChanged).pipe(ed(e=>({canPlayAudio:e.canPlaybackAudio})))}function eB(e,...t){return new R(r=>{let n=()=>{r.next(e)};return t.forEach(t=>{e.on(t,n)}),()=>{t.forEach(t=>{e.off(t,n)})}}).pipe(ey(e))}function eJ(e){return eB(e,n.YI.TrackMuted,n.YI.TrackUnmuted,n.YI.ParticipantPermissionsChanged,n.YI.TrackPublished,n.YI.TrackUnpublished,n.YI.LocalTrackPublished,n.YI.LocalTrackUnpublished,n.YI.MediaDevicesError,n.YI.TrackSubscriptionStatusChanged).pipe(ed(e=>{let{isMicrophoneEnabled:t,isCameraEnabled:r,isScreenShareEnabled:i}=e,o=e.getTrackPublication(n.CC.Source.Microphone);return{isCameraEnabled:r,isMicrophoneEnabled:t,isScreenShareEnabled:i,cameraTrack:e.getTrackPublication(n.CC.Source.Camera),microphoneTrack:o,participant:e}}))}function eG(e,t){return new R(r=>{let n=(...e)=>{r.next(e)};return e.on(t,n),()=>{e.off(t,n)}})}function eq(e,t={}){var r;let i,o=new R(e=>(i=e,()=>c.unsubscribe())).pipe(ey(Array.from(e.remoteParticipants.values()))),a=null!=(r=t.additionalRoomEvents)?r:eO,c=e$(e,...Array.from(new Set([n.u9.ParticipantConnected,n.u9.ParticipantDisconnected,n.u9.ConnectionStateChanged,...a]))).subscribe(e=>null==i?void 0:i.next(Array.from(e.remoteParticipants.values())));return e.remoteParticipants.size>0&&(null==i||i.next(Array.from(e.remoteParticipants.values()))),o}function eQ(e){return eG(e,n.YI.ParticipantPermissionsChanged).pipe(ed(()=>e.permissions),ey(e.permissions))}function eX(e){return typeof e>"u"?new R:eG(e,n.YI.AttributesChanged).pipe(ed(([t])=>({changed:t,attributes:e.attributes})),ey({changed:e.attributes,attributes:e.attributes}))}function eK(e,t,r,i,o){let{localParticipant:a}=t,c=(e,t)=>{let r=!1;switch(e){case n.CC.Source.Camera:r=t.isCameraEnabled;break;case n.CC.Source.Microphone:r=t.isMicrophoneEnabled;break;case n.CC.Source.ScreenShare:r=t.isScreenShareEnabled}return r},u=eJ(a).pipe(ed(t=>c(e,t.participant)),ey(c(e,a))),l=new $,s=(t,c)=>eP(this,null,function*(){try{switch(c??(c=r),l.next(!0),e){case n.CC.Source.Camera:return yield a.setCameraEnabled(t??!a.isCameraEnabled,c,i),a.isCameraEnabled;case n.CC.Source.Microphone:return yield a.setMicrophoneEnabled(t??!a.isMicrophoneEnabled,c,i),a.isMicrophoneEnabled;case n.CC.Source.ScreenShare:return yield a.setScreenShareEnabled(t??!a.isScreenShareEnabled,c,i),a.isScreenShareEnabled;default:throw TypeError("Tried to toggle unsupported source")}}catch(e){if(o&&e instanceof Error){null==o||o(e);return}throw e}finally{l.next(!1)}});return{className:ej("button"),toggle:s,enabledObserver:u,pendingObserver:l.asObservable()}}function e0(){let e=!1,t=new $,r=new $,n=n=>eP(this,null,function*(){r.next(!0),e=n??!e,t.next(e),r.next(!1)});return{className:ej("button"),toggle:n,enabledObserver:t.asObservable(),pendingObserver:r.asObservable()}}function e1(e,t,r){let i=new z(void 0),o=eH(t,n.u9.ActiveDeviceChanged).pipe(eh(([t])=>t===e),ed(([e,t])=>(eM.debug("activeDeviceObservable | RoomEvent.ActiveDeviceChanged",{kind:e,deviceId:t}),t))),a=(r,...o)=>eP(this,[r,...o],function*(r,o={}){var a,c,u;if(t){let l,s=(0,n.X5)();if("audiooutput"===e&&((null==s?void 0:s.name)==="Safari"||(null==s?void 0:s.os)==="iOS"))return void eM.warn("Switching audio output device is not supported on Safari and iOS.");eM.debug(`Switching active device of kind "${e}" with id ${r}.`),yield t.switchActiveDevice(e,r,o.exact);let f=null!=(a=t.getActiveDevice(e))?a:r;f!==r&&"default"!==r&&eM.info(`We tried to select the device with id (${r}), but the browser decided to select the device with id (${f}) instead.`),"audioinput"===e?l=null==(c=t.localParticipant.getTrackPublication(n.CC.Source.Microphone))?void 0:c.track:"videoinput"===e&&(l=null==(u=t.localParticipant.getTrackPublication(n.CC.Source.Camera))?void 0:u.track);let d="default"===r&&!l||"default"===r&&(null==l?void 0:l.mediaStreamTrack.label.startsWith("Default"));i.next(d?r:f)}});return{className:ej("media-device-select"),activeDeviceObservable:o,setActiveMediaDevice:a}}var e2={CHAT:"lk.chat",TRANSCRIPTION:"lk.transcription"},e4={CHAT:"lk-chat-topic"};function e5(e,t){return eP(this,arguments,function*(e,t,r={}){let{reliable:n,destinationIdentities:i,topic:o}=r;yield e.publishData(t,{destinationIdentities:i,topic:o,reliable:n})})}var e3=new WeakMap,e9=e=>JSON.parse(new TextDecoder().decode(e)),e8=e=>new TextEncoder().encode(JSON.stringify(e));function e6(e,t){var r,i,o,a,c,u;let l=new $,s=null!=(r=null==t?void 0:t.channelTopic)?r:e2.CHAT,f=null!=(i=null==t?void 0:t.channelTopic)?i:e4.CHAT,d=!1;e3.has(e)||(d=!0);let p=null!=(o=e3.get(e))?o:new Map,h=null!=(a=p.get(s))?a:new $;p.set(s,h),e3.set(e,p);let v=null!=(c=null==t?void 0:t.messageDecoder)?c:e9;if(d){e.registerTextStreamHandler(s,(t,r)=>eP(this,null,function*(){let{id:n,timestamp:i}=t.info;ef(t).pipe(ev((e,t)=>e+t),ed(t=>({id:n,timestamp:i,message:t,from:e.getParticipantByIdentity(r.identity),type:"chatMessage"}))).subscribe({next:e=>h.next(e)})}));let{messageObservable:t}=function(e,t,r){let i,o=Array.isArray(t)?t:[t];return{messageObservable:eH(e,n.u9.DataReceived).pipe(eh(([,,,e])=>void 0===t||void 0!==e&&o.includes(e)),ed(([e,t,,r])=>({payload:e,topic:r,from:t}))),isSendingObservable:new R(e=>{i=e}),send:(t,...r)=>eP(this,[t,...r],function*(t,r={}){i.next(!0);try{yield e5(e.localParticipant,t,eI({topic:o[0]},r))}finally{i.next(!1)}})}}(e,[f]);t.pipe(ed(e=>{let t=v(e.payload);return!0==t.ignoreLegacy?void 0:eE(eI({},t),{type:"chatMessage",from:e.from})}),eh(e=>!!e),em(l)).subscribe(h)}let b=h.pipe(ev((e,t)=>{if("id"in t&&e.find(e=>{var r,n;return(null==(r=e.from)?void 0:r.identity)===(null==(n=t.from)?void 0:n.identity)&&e.id===t.id})){let r=e.findIndex(e=>e.id===t.id);if(r>-1){let n=e[r];e[r]=eE(eI({},t),{timestamp:n.timestamp,editTimestamp:t.timestamp})}return[...e]}return[...e,t]},[]),em(l)),y=new z(!1),m=null!=(u=null==t?void 0:t.messageEncoder)?u:e8,g=(t,r)=>eP(this,null,function*(){var i,o,a;r||(r={}),null!=r.topic||(r.topic=s),y.next(!0);try{let c={id:(yield e.localParticipant.sendText(t,r)).id,timestamp:Date.now(),message:t},u=eE(eI({},c),{attachedFiles:r.attachments}),l=eE(eI({},u),{type:"chatMessage",from:e.localParticipant,attributes:r.attributes});h.next(l);let s=m(eE(eI({},c),{ignoreLegacy:(null==(i=e.serverInfo)?void 0:i.edition)===1||!!(null!=(o=e.serverInfo)&&o.version)&&(0,n.Zy)(null==(a=e.serverInfo)?void 0:a.version,"1.8.2")>0}));try{yield e5(e.localParticipant,s,{reliable:!0,topic:f})}catch(e){eM.info("could not send message in legacy chat format",e)}return l}finally{y.next(!1)}});return e.once(n.u9.Disconnected,function(){l.next(),l.complete(),h.complete(),e3.delete(e),e.unregisterTextStreamHandler(s)}),{messageObservable:b,isSendingObservable:y,send:g}}function e7(){let e=e=>eP(this,null,function*(){eM.info("Start Audio for room: ",e),yield e.startAudio()});return{className:ej("start-audio-button"),roomAudioPlaybackAllowedObservable:eV,handleStartAudioPlayback:e}}function te(e,t,r=!0){let n=[e.localParticipant,...Array.from(e.remoteParticipants.values())],i=[];return n.forEach(e=>{t.forEach(t=>{let n=Array.from(e.trackPublications.values()).filter(e=>e.source===t&&(!r||e.track)).map(t=>({participant:e,publication:t,source:t.source}));i.push(...n)})}),{trackReferences:i,participants:n}}function tt(e,t,r=!1){let{sources:n,kind:i,name:o}=t;return Array.from(e.trackPublications.values()).filter(e=>(!n||n.includes(e.source))&&(!i||e.kind===i)&&(!o||e.trackName===o)&&(!r||e.track)).map(t=>({participant:e,publication:t,source:t.source}))}function tr(e,t,r){var i,o;let a=null!=(i=r.additionalRoomEvents)?i:eO,c=null==(o=r.onlySubscribed)||o;return e$(e,...Array.from(new Set([n.u9.ParticipantConnected,n.u9.ParticipantDisconnected,n.u9.ConnectionStateChanged,n.u9.LocalTrackPublished,n.u9.LocalTrackUnpublished,n.u9.TrackPublished,n.u9.TrackUnpublished,n.u9.TrackSubscriptionStatusChanged,...a]).values())).pipe(ed(e=>{let r=te(e,t,c);return eM.debug(`TrackReference[] was updated. (length ${r.trackReferences.length})`,r),r}),ey(te(e,t,c)))}function tn(e,t){return eB(e,...eL).pipe(ed(e=>{let r=tt(e,t);return eM.debug(`TrackReference[] was updated. (length ${r.length})`,r),r}),ey(tt(e,t)))}function ti(e,t){return new R(r=>{let n=(...e)=>{r.next(e)};return e.on(t,n),()=>{e.off(t,n)}})}function to(e){return ti(e,n.GI.TranscriptionReceived)}function ta(e){return ti(e,n.GI.TimeSyncUpdate).pipe(ed(([e])=>e))}var tc={videoEnabled:!0,audioEnabled:!0,videoDeviceId:"default",audioDeviceId:"default",username:""},{load:tu,save:tl}=function(e){return{load:()=>(function(e){if(typeof localStorage>"u")return void eM.error("Local storage is not available.");try{let t=localStorage.getItem(e);if(!t)return void eM.warn(`Item with key ${e} does not exist in local storage.`);return JSON.parse(t)}catch(e){eM.error(`Error getting item from local storage: ${e}`);return}})(e),save:t=>(function(e,t){if(typeof localStorage>"u")return void eM.error("Local storage is not available.");try{if(t){let r=Object.fromEntries(Object.entries(t).filter(([,e])=>""!==e));localStorage.setItem(e,JSON.stringify(r))}}catch(e){eM.error(`Error setting item to local storage: ${e}`)}})(e,t)}}("lk-user-choices");function ts(e,t=!1){!0!==t&&tl(e)}function tf(e,t=!1){var r,n,i,o,a;let c={videoEnabled:null!=(r=null==e?void 0:e.videoEnabled)?r:tc.videoEnabled,audioEnabled:null!=(n=null==e?void 0:e.audioEnabled)?n:tc.audioEnabled,videoDeviceId:null!=(i=null==e?void 0:e.videoDeviceId)?i:tc.videoDeviceId,audioDeviceId:null!=(o=null==e?void 0:e.audioDeviceId)?o:tc.audioDeviceId,username:null!=(a=null==e?void 0:e.username)?a:tc.username};if(t)return c;{let e=tu();return eI(eI({},c),e??{})}}var td=null,tp=null,th=0;function tv(){return td||(td=new Map),td}function tb(e,t){var r,i,o,a,c,u,l,s,f,d,p,h,v;let b=function(e,t){let r=(tp||(tp=new WeakMap),tp),n=r.get(e);return n||(n=`room_${th++}`,r.set(e,n)),`${n}:${t}`}(e,t),y=tv(),g=y.get(b);if(g)return g;let w=new $,S=[],x="lk.segment_id",k=w.pipe((a=m(r={subscribe:()=>{e.registerTextStreamHandler(t,(e,t)=>eP(this,null,function*(){var r;let n=ef(e).pipe(ev((e,t)=>e+t,"")),i=!!(null!=(r=e.info.attributes)&&r[x]);n.subscribe(r=>{let n=S.findIndex(t=>{var r,n;return t.streamInfo.id===e.info.id||i&&(null==(r=t.streamInfo.attributes)?void 0:r[x])===(null==(n=e.info.attributes)?void 0:n[x])});-1!==n?S[n]=eE(eI({},S[n]),{text:r}):S.push({text:r,participantInfo:t,streamInfo:e.info}),w.next([...S])})}))},finalize:()=>{e.unregisterTextStreamHandler(t)}})?{next:r,error:i,complete:o}:r)?U(function(e,t){null==(r=a.subscribe)||r.call(a);var r,n=!0;e.subscribe(j(t,function(e){var r;null==(r=a.next)||r.call(a,e),t.next(e)},function(){var e;n=!1,null==(e=a.complete)||e.call(a),t.complete()},function(e){var r;n=!1,null==(r=a.error)||r.call(a,e),t.error(e)},function(){var e,t;n&&(null==(e=a.unsubscribe)||e.call(a)),null==(t=a.finalize)||t.call(a)}))}):D,(void 0===c&&(c={}),l=void 0===(u=c.connector)?function(){return new $}:u,f=void 0===(s=c.resetOnError)||s,p=void 0===(d=c.resetOnComplete)||d,v=void 0===(h=c.resetOnRefCountZero)||h,function(e){var t,r,n,i=0,o=!1,a=!1,c=function(){null==r||r.unsubscribe(),r=void 0},u=function(){c(),t=n=void 0,o=a=!1},s=function(){var e=t;u(),null==e||e.unsubscribe()};return U(function(e,d){i++,a||o||c();var h=n=n??l();d.add(function(){0!=--i||a||o||(r=eb(s,v))}),h.subscribe(d),!t&&i>0&&(t=new L({next:function(e){return h.next(e)},error:function(e){a=!0,c(),r=eb(u,f,e),h.error(e)},complete:function(){o=!0,c(),r=eb(u,p),h.complete()}}),eo(e).subscribe(t))})(e)}));return y.set(b,k),e.on(n.u9.Disconnected,()=>{tv().delete(b),S=[],w.next([])}),k}i.createContext(void 0);let ty=i.createContext(void 0);function tm(){return i.useContext(ty)}function tg(e){let t=tm(),r=e??t;if(!r)throw Error("No TrackRef, make sure you are inside a TrackRefContext or pass the TrackRef explicitly");return r}let tw=i.createContext(void 0);function tS(){return i.useContext(tw)}let tx=i.createContext(void 0);function tk(){let e=i.useContext(tx);if(!e)throw Error("tried to access room context outside of livekit room component");return e}function tC(){return i.useContext(tx)}function tT(e){let t=tC(),r=e??t;if(!r)throw Error("No room provided, make sure you are inside a Room context or pass the room explicitly");return r}i.createContext(void 0),i.createContext(void 0)},7229:(e,t,r)=>{r.d(t,{F:()=>a});var n=r(8197);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=n.$,a=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:a,defaultVariants:c}=t,u=Object.keys(a).map(e=>{let t=null==r?void 0:r[e],n=null==c?void 0:c[e];if(null===t)return null;let o=i(t)||i(n);return a[e][o]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return o(e,u,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...i}=t;return Object.entries(i).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...c,...l}[t]):({...c,...l})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},7252:(e,t,r)=>{r.d(t,{i:()=>a});var n=r(4364),i=r(9963);let o=new Map([["bold",n.createElement(n.Fragment,null,n.createElement("path",{d:"M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"}))],["duotone",n.createElement(n.Fragment,null,n.createElement("path",{d:"M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z",opacity:"0.2"}),n.createElement("path",{d:"M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"}))],["fill",n.createElement(n.Fragment,null,n.createElement("path",{d:"M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"}))],["light",n.createElement(n.Fragment,null,n.createElement("path",{d:"M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"}))],["regular",n.createElement(n.Fragment,null,n.createElement("path",{d:"M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"}))],["thin",n.createElement(n.Fragment,null,n.createElement("path",{d:"M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"}))]]),a=n.forwardRef((e,t)=>n.createElement(i.A,{ref:t,...e,weights:o}));a.displayName="WarningIcon"},9963:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(4364);let i=n.forwardRef((e,t)=>{let{alt:r,color:i="currentColor",size:o="1em",weight:a="regular",mirrored:c=!1,children:u,weights:l,...s}=e;return n.createElement("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,fill:i,viewBox:"0 0 256 256",transform:c?"scale(-1, 1)":void 0,...s},!!r&&n.createElement("title",null,r),u,l.get(a))});i.displayName="SSRBase"}}]);